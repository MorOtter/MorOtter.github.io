<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gamification Learning Adventure</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react/17.0.2/umd/react.development.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/17.0.2/umd/react-dom.development.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/6.26.0/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <link href="https://fonts.googleapis.com/css2?family=Comfortaa:wght@300;400;700&display=swap" rel="stylesheet">
    <style>
        body {
            background: linear-gradient(135deg, #f6d365 0%, #fda085 100%);
            font-family: 'Comfortaa', cursive;
        }

        .game-container {
            background: rgba(255, 255, 255, 0.9);
            border-radius: 20px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
            backdrop-filter: blur(10px);
        }

        .correct {
            background-color: #d4edda !important;
            color: #155724;
        }

        .dragging {
            opacity: 0.5;
        }
    </style>
</head>

<body>
    <div id="root" class="min-h-screen flex items-center justify-center p-4"></div>

    <script type="text/babel">
        const { useState } = React;

        const GamificationLearningChallenge = () => {
            const [score, setScore] = useState(0);
            const [completed, setCompleted] = useState({
                timeline: false,
                definition: false,
            });

            const HistoricalTimelineChallenge = () => {
                const [milestones, setMilestones] = useState([
                    { id: 'education', text: 'üìö First educational gamification studies', correctIndex: 2, correct: false },
                    { id: 'term_coined', text: 'üí° Term "Gamification" coined by Nick Pelling', correctIndex: 1, correct: false },
                    { id: 'widespread', text: 'üåê Widespread adoption in corporate training', correctIndex: 3, correct: false },
                    { id: 'video_games', text: 'üéÆ Video game concept of points/levels', correctIndex: 0, correct: false },
                ]);
                const [draggedItem, setDraggedItem] = useState(null);

                const handleDragStart = (e, item) => {
                    setDraggedItem(item);
                    e.target.classList.add('dragging');
                };

                const handleDragEnd = (e) => {
                    e.target.classList.remove('dragging');
                };

                const handleDragOver = (e) => {
                    e.preventDefault();
                };

                const handleDrop = (e, targetItem) => {
                    if (!draggedItem) return;

                    const updatedMilestones = milestones.map((m, index) => {
                        if (index === targetItem.correctIndex) {
                            return {
                                ...m,
                                correct: m.id === draggedItem.id,
                            };
                        }
                        return m;
                    });

                    setMilestones(updatedMilestones);
                };

                const checkOrder = () => {
                    const correctOrder = ['video_games', 'term_coined', 'education', 'widespread'];
                    const isCorrect = milestones.map(m => m.id).every((id, index) => id === correctOrder[index]);

                    if (isCorrect) {
                        setScore(prev => prev + 100);
                        setCompleted(prev => ({ ...prev, timeline: true }));
                        Swal.fire({
                            title: 'Timeline Mastered!',
                            text: 'You placed all milestones correctly!',
                            icon: 'success',
                            confirmButtonText: 'Great!'
                        });
                    }
                };

                return (
                    <div className="p-6 bg-blue-50 rounded-lg shadow-lg">
                        <h3 className="text-2xl font-bold mb-4 text-blue-700">üï∞Ô∏è Time Travel Challenge</h3>
                        <p className="mb-4">Drag milestones into the correct order:</p>
                        <div>
                            {milestones.map((milestone, index) => (
                                <div
                                    key={milestone.id}
                                    className={`bg-white p-4 rounded shadow transform hover:scale-105 ${milestone.correct ? 'correct' : ''}`}
                                    draggable
                                    onDragStart={(e) => handleDragStart(e, milestone)}
                                    onDragEnd={handleDragEnd}
                                    onDragOver={handleDragOver}
                                    onDrop={(e) => handleDrop(e, milestone)}
                                >
                                    {milestone.text}
                                </div>
                            ))}
                        </div>
                        <button
                            onClick={checkOrder}
                            className="mt-4 w-full bg-gradient-to-r from-blue-400 to-purple-500 text-white p-2 rounded hover:from-blue-500 hover:to-purple-600">
                            Check Order
                        </button>
                    </div>
                );
            };

            const FillInTheBlanks = () => {
                const blanks = [
                    { id: 1, text: "Gamification in", options: ["Learning", "Underwater basket weaving", "Gaming", "Adventures"], correct: "Learning", selected: "" },
                    { id: 2, text: "is the integration of", options: ["Game", "Spoon juggling", "Entertainment", "Board"], correct: "Game", selected: "" },
                    { id: 3, text: "mechanics, such as", options: ["Points", "Glitter explosions", "Rewards", "Tokens"], correct: "Points", selected: "" },
                    { id: 4, text: "badges,", options: ["Leaderboards", "Penguin wrestling", "Rewards", "Levels"], correct: "Leaderboards", selected: "" },
                    { id: 5, text: "and", options: ["Challenges", "Yodeling contests", "Goals", "Fun"], correct: "Challenges", selected: "" },
                    { id: 6, text: "like", options: ["Education", "Unicorn riding", "Sports", "Adventures"], correct: "Education", selected: "" },
                    { id: 7, text: "to enhance their", options: ["Motivation", "Donut consumption", "Advancement", "Teaching"], correct: "Motivation", selected: "" },
                    { id: 8, text: "and", options: ["Participation", "Pillow fighting", "Rewards", "Engagement"], correct: "Participation", selected: "" }
                ];

                const [answers, setAnswers] = useState(blanks);

                const handleChange = (id, value) => {
                    const updated = answers.map(item => item.id === id ? { ...item, selected: value } : item);
                    setAnswers(updated);
                };

                const checkAnswers = () => {
                    const allCorrect = answers.every(item => item.selected === item.correct);
                    if (allCorrect) {
                        setScore(prev => prev + 200);
                        setCompleted(prev => ({ ...prev, definition: true }));
                        Swal.fire({
                            title: 'Great Job!',
                            text: 'You filled in the blanks correctly!',
                            icon: 'success',
                        });
                    } else {
                        Swal.fire('Oops!', 'Some answers are incorrect. Try again.', 'error');
                    }
                };

                return (
                    <div className="p-6 bg-yellow-50 rounded-lg">
                        <h3 className="text-2xl mb-4">üìù Fill in the Blanks</h3>
                        <p>
                            Gamification in 
                            {answers.map((item, index) => (
                                <span key={item.id}>
                                    {index !== 0 && ","} 
                                    {item.text} 
                                    <select
                                        value={item.selected}
                                        onChange={(e) => handleChange(item.id, e.target.value)}
                                        className="border p-1 rounded"
                                    >
                                        <option value="">Select</option>
                                        {item.options.map(opt => <option key={opt} value={opt}>{opt}</option>)}
                                    </select>
                                </span>
                            ))}.
                        </p>
                        <button
                            onClick={checkAnswers}
                            className="mt-4 bg-gradient-to-r from-yellow-400 to-red-500 text-white p-2 rounded hover:from-yellow-500 hover:to-red-600">
                            Check Answers
                        </button>
                    </div>
                );
            };

            return (
                <div className="game-container max-w-4xl mx-auto p-6">
                    <h1 className="text-4xl font-bold text-center mb-8 text-indigo-700">Gamification Learning Adventure</h1>
                    <div className="grid gap-6">
                        <HistoricalTimelineChallenge />
                        <FillInTheBlanks />
                    </div>
                    <div className="text-center mt-8">
                        <h2 className="text-2xl font-semibold">Score: {score}</h2>
                    </div>
                </div>
            );
        };

        ReactDOM.render(<GamificationLearningChallenge />, document.getElementById('root'));
    </script>
</body>

</html>
