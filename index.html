<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gamification Learning Adventure</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react/17.0.2/umd/react.development.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/17.0.2/umd/react-dom.development.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/6.26.0/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <link href="https://fonts.googleapis.com/css2?family=Comfortaa:wght@300;400;700&display=swap" rel="stylesheet">
    <style>
        body {
            background: linear-gradient(135deg, #f6d365 0%, #fda085 100%);
            font-family: 'Comfortaa', cursive;
        }
        .game-container {
            background: rgba(255, 255, 255, 0.9);
            border-radius: 20px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
            backdrop-filter: blur(10px);
        }
        .correct { background-color: #d4edda !important; color: #155724; }
        .dragging { opacity: 0.5; }
    </style>
</head>
<body>
    <div id="root" class="min-h-screen flex items-center justify-center p-4"></div>

    <script type="text/babel">
    const { useState } = React;

    const GamificationLearningChallenge = () => {
        const [score, setScore] = useState(0);
        const [completed, setCompleted] = useState({
            timeline: false,
            definition: false,
            decoder: false
        });

        const FillInTheBlankChallenge = () => {
            const blankOptions = [
                [
                    { text: 'Learning', correct: true },
                    { text: 'Underwater basket weaving', correct: false },
                    { text: 'Gaming', correct: false },
                    { text: 'Adventures', correct: false }
                ],
                [
                    { text: 'Game', correct: true },
                    { text: 'Spoon juggling', correct: false },
                    { text: 'Entertainment', correct: false },
                    { text: 'Board', correct: false }
                ],
                [
                    { text: 'Points', correct: true },
                    { text: 'Glitter explosions', correct: false },
                    { text: 'Rewards', correct: false },
                    { text: 'Tokens', correct: false }
                ],
                [
                    { text: 'Leaderboards', correct: true },
                    { text: 'Penguin wrestling', correct: false },
                    { text: 'Rewards', correct: false },
                    { text: 'Levels', correct: false }
                ],
                [
                    { text: 'Challenges', correct: true },
                    { text: 'Yodeling contests', correct: false },
                    { text: 'Goals', correct: false },
                    { text: 'Fun', correct: false }
                ],
                [
                    { text: 'Education', correct: true },
                    { text: 'Unicorn riding', correct: false },
                    { text: 'Sports', correct: false },
                    { text: 'Adventures', correct: false }
                ],
                [
                    { text: 'Motivation', correct: true },
                    { text: 'Donut consumption', correct: false },
                    { text: 'Advancement', correct: false },
                    { text: 'Teaching', correct: false }
                ],
                [
                    { text: 'Participation', correct: true },
                    { text: 'Pillow fighting', correct: false },
                    { text: 'Rewards', correct: false },
                    { text: 'Engagement', correct: false }
                ]
            ];

            const [selectedOptions, setSelectedOptions] = useState(
                new Array(blankOptions.length).fill(null)
            );
            const [showResults, setShowResults] = useState(false);

            const handleOptionChange = (blankIndex, optionIndex) => {
                const newSelectedOptions = [...selectedOptions];
                newSelectedOptions[blankIndex] = parseInt(optionIndex);
                setSelectedOptions(newSelectedOptions);
            };

            const checkAnswers = () => {
                setShowResults(true);
                const correctAnswers = selectedOptions.every((selectedIndex, blankIndex) => 
                    selectedIndex !== null && blankOptions[blankIndex][selectedIndex].correct
                );

                if (correctAnswers) {
                    setScore((prev) => prev + 150);
                    setCompleted((prev) => ({ ...prev, definition: true }));
                    Swal.fire('Correct!', 'You filled in all blanks correctly!', 'success');
                }
            };

            return (
                <div className="p-6 bg-green-50 rounded-lg shadow-lg">
                    <h3 className="text-2xl font-bold mb-4 text-green-700">üìù Fill in the Blanks</h3>
                    <div className="mb-4">
                        <p className="text-lg">
                            Gamification in 
                            <select 
                                className={`mx-2 p-1 rounded ${showResults && blankOptions[0][selectedOptions[0]]?.correct ? 'bg-green-200' : showResults ? 'bg-red-200' : ''}`}
                                onChange={(e) => handleOptionChange(0, e.target.value)}
                                value={selectedOptions[0] ?? ''}
                            >
                                <option value="">Select</option>
                                {blankOptions[0].map((option, index) => (
                                    <option key={index} value={index}>{option.text}</option>
                                ))}
                            </select>
                            is the integration of 
                            <select 
                                className={`mx-2 p-1 rounded ${showResults && blankOptions[1][selectedOptions[1]]?.correct ? 'bg-green-200' : showResults ? 'bg-red-200' : ''}`}
                                onChange={(e) => handleOptionChange(1, e.target.value)}
                                value={selectedOptions[1] ?? ''}
                            >
                                <option value="">Select</option>
                                {blankOptions[1].map((option, index) => (
                                    <option key={index} value={index}>{option.text}</option>
                                ))}
                            </select>
                            mechanics, such as 
                            <select 
                                className={`mx-2 p-1 rounded ${showResults && blankOptions[2][selectedOptions[2]]?.correct ? 'bg-green-200' : showResults ? 'bg-red-200' : ''}`}
                                onChange={(e) => handleOptionChange(2, e.target.value)}
                                value={selectedOptions[2] ?? ''}
                            >
                                <option value="">Select</option>
                                {blankOptions[2].map((option, index) => (
                                    <option key={index} value={index}>{option.text}</option>
                                ))}
                            </select>
                            , badges, 
                            <select 
                                className={`mx-2 p-1 rounded ${showResults && blankOptions[3][selectedOptions[3]]?.correct ? 'bg-green-200' : showResults ? 'bg-red-200' : ''}`}
                                onChange={(e) => handleOptionChange(3, e.target.value)}
                                value={selectedOptions[3] ?? ''}
                            >
                                <option value="">Select</option>
                                {blankOptions[3].map((option, index) => (
                                    <option key={index} value={index}>{option.text}</option>
                                ))}
                            </select>
                            , and 
                            <select 
                                className={`mx-2 p-1 rounded ${showResults && blankOptions[4][selectedOptions[4]]?.correct ? 'bg-green-200' : showResults ? 'bg-red-200' : ''}`}
                                onChange={(e) => handleOptionChange(4, e.target.value)}
                                value={selectedOptions[4] ?? ''}
                            >
                                <option value="">Select</option>
                                {blankOptions[4].map((option, index) => (
                                    <option key={index} value={index}>{option.text}</option>
                                ))}
                            </select>
                            like 
                            <select 
                                className={`mx-2 p-1 rounded ${showResults && blankOptions[5][selectedOptions[5]]?.correct ? 'bg-green-200' : showResults ? 'bg-red-200' : ''}`}
                                onChange={(e) => handleOptionChange(5, e.target.value)}
                                value={selectedOptions[5] ?? ''}
                            >
                                <option value="">Select</option>
                                {blankOptions[5].map((option, index) => (
                                    <option key={index} value={index}>{option.text}</option>
                                ))}
                            </select>
                            .
                        </p>
                    </div>
                    <button
                        onClick={checkAnswers}
                        className="bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-green-700"
                    >
                        Check Answers
                    </button>
                </div>
            );
        };

        return (
            <div className="game-container p-6 max-w-4xl">
                <h1 className="text-3xl font-bold text-gray-700 text-center mb-6">Gamification Learning Adventure</h1>
                <FillInTheBlankChallenge />
            </div>
        );
    };

    ReactDOM.render(<GamificationLearningChallenge />, document.getElementById('root'));
    </script>
</body>
</html>
